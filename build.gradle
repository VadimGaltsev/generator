plugins {
    id 'com.gradle.plugin-publish' version '0.10.0'
    id 'org.jetbrains.kotlin.jvm' version '1.3.11'
    id 'java-gradle-plugin'
    id 'maven'
}

version '1.0-SNAPSHOT'
group 'com.homeprojects'

repositories {
    google()
    mavenCentral()
    jcenter()
}

pluginBundle {
    website = 'https://github.com/Vaiklol/'
    tags = ['codegen', 'asm', 'bytecode', 'plugins']
}

gradlePlugin {
    plugins {
        generatorPlugin {
            id = 'generator-plugin'
            displayName = 'generator'
            description = 'plugin for generate simple sout and toast in android kotlin app'
            implementationClass = 'Generator'
        }
    }
}

dependencies {
    compile "org.jetbrains.kotlin:kotlin-stdlib-jdk8"
    implementation files('/Users/vadik/Downloads/asm-7.1.jar')
    compile 'org.jetbrains.kotlin:kotlin-gradle-plugin:1.3.21'
    compile gradleApi()
    compile localGroovy()
}

compileKotlin {
    kotlinOptions.jvmTarget = "1.8"
}
compileTestKotlin {
    kotlinOptions.jvmTarget = "1.8"
}

uploadArchives {
    repositories {
        mavenDeployer {
            repository(url: uri('repo'))
        }
    }
}